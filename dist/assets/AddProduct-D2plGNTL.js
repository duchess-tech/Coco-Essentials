import{r as s,j as e,Q as w,k as j,B as o}from"./index-W29gIuby.js";import{a as y}from"./index-DYVT73-p.js";import{A as v}from"./AdminLayout-BAzsrnU5.js";import{B as N}from"./index-13rOuACM.js";import"./iconBase-DaNi9Cxe.js";import"./index-BYU5Di5h.js";import"./index-CejQMpiJ.js";const E=()=>{const l=s.useRef(""),i=s.useRef(""),n=s.useRef(""),d=s.useRef(""),c=s.useRef(""),[p,f]=s.useState([]),[m,u]=s.useState(!1),x=async a=>{a.preventDefault();try{u(!0);const t=new FormData;t.append("name",l.current.value),t.append("price",i.current.value),t.append("image",n.current.files[0]),t.append("description",d.current.value),t.append("category",c.current.value);const r=await j.post("/api/products/addProduct",t);console.log(r.data),r.data.created?o.success(r.data.message):r.data.error_type===0?o.error(r.data.error[0].msg):r.data.error_type===1&&o.error(r.data.message)}catch(t){console.log(t)}finally{u(!1)}},h=async(a,t)=>{let r=new FileReader;const b=a.target.files[0];r.onload=async()=>{if(t.length>0){const g=r.result;f(g)}},r.readAsDataURL(b)};return e.jsx(v,{children:e.jsxs("div",{className:"flex items-start  justify-center pb-96 p-4 xl:p-24 bg-[#891980] xl:h-full w-full h-full  ",children:[e.jsx(w,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),e.jsxs("form",{onSubmit:x,className:"forgot-password flex mt-32  xl:mt-0 w-full sm:flex-wrap xl:flex-nowrap  flex-wrap  p-5  gap-10    lg:w-3/4 2xl:w-1/4 md:w-3/4 sm:w-3/4 rounded-lg shadow-md bg-pink-200  transition duration-500 ease-in-out border-2 border-transparent ",children:[e.jsxs("div",{className:" xl:w-1/2  w-full",children:[e.jsx("h2",{className:"text-center text-2xl mt-3 mb-3",children:"Add product"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),e.jsx("input",{ref:l,type:"text",id:"name",className:"mt-1 p-2 block text-[12px] w-full border border-white rounded-md focus:outline-none focus:border-pink-500",placeholder:"Enter Product Name",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mt-3",children:"Price"}),e.jsx("input",{ref:i,type:"text",id:"price",className:"mt-1 p-2 text-[12px] block w-full border border-white rounded-md focus:outline-none focus:border-pink-500",placeholder:"Enter price",required:!0})]}),e.jsx("label",{htmlFor:"category",children:"Category:"}),e.jsxs("select",{required:!0,id:"category",name:"category",ref:c,className:"text-sm mt-4  bg-white  border-2 p-2 ml-3 rounded-xl mb-4",children:[e.jsx("option",{value:"body cream",children:"body cream"}),e.jsx("option",{value:"face cream",children:"face cream"}),e.jsx("option",{value:"body wash",children:"body wash"})]}),e.jsxs("div",{className:"mt-3 mb-3 flex p-2  gap-2 items-center w-full text-[12px] border-pink-700 bg-[#f29cb3] border-2 rounded-sm  focus:outline-none focus:border-pink-500",children:[e.jsx(y,{className:"cursor-pointer"}),e.jsx("input",{type:"file",id:"image",name:"image",style:{visibility:"hidden",width:"0",height:"0"},ref:n,onChange:a=>h(a,a.target.files)}),e.jsx("label",{htmlFor:"image",className:"cursor-pointer",children:"Select Product Image"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsx("textarea",{ref:d,id:"description",className:"mt-1 mb-4 p-2 block text-[12px] w-full border h-32 border-white rounded-md focus:outline-none focus:border-pink-500",placeholder:"Enter Product Description",maxLength:300,required:!0})]}),!m&&e.jsx("button",{type:"submit",className:"w-full mb-4  border-2  bg-[#f29cb3] border-pink-700 hover:text-white  hover:bg-pink-700 py-2 px-4 rounded-md transition duration-300 ease-in-out transform hover:scale-105",children:"Add Product"}),m&&e.jsxs("button",{type:"button",className:"w-full mb-4 flex items-center justify-center border-2  bg-[#f29cb3] border-pink-700 hover:text-white  hover:bg-pink-700 py-2 px-4 rounded-md transition duration-300 ease-in-out transform hover:scale-105",disabled:!0,children:[e.jsx(N,{className:"animate-spin"}),"Processing..."]})]}),e.jsx("div",{className:"xl:w-1/2 w-3/4 m-auto ",children:e.jsx("div",{className:"w-full  m-auto h-[300px] border",children:e.jsx("img",{style:{width:"100%",height:"100% "},src:p,alt:""})})})]})]})})};export{E as default};
