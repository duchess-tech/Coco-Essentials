import{P as N,j as s,a as I,r as o,u as C,C as y,x as k,Q as _,d as T,c as W,y as E}from"./index-W29gIuby.js";import{D as O}from"./Defaultlayout-vZ3qN10I.js";import{C as z,a as D}from"./utils-Ug9IFQHp.js";import{T as B}from"./index-DS57sa4y.js";import{L as R}from"./index-DmMzkQr3.js";import{c as S}from"./index-JKkbLNqC.js";import"./footer-CYV9Fxay.js";import"./iconBase-DaNi9Cxe.js";import"./index-CejQMpiJ.js";import"./index-BwnSUIqb.js";import"./Login-D4dCwv0B.js";import"./Register-B7b3leXN.js";import"./index-13rOuACM.js";import"./index-DYVT73-p.js";import"./index-BYU5Di5h.js";const u=r=>s.jsx("div",{className:"absolute text-black border-2 z-100  p-5 text-[13px] text-navyblue w-52 -right-1  -top-4 rounded-lg  hidden  group-hover:block hover:block  bg-white ",children:s.jsx("p",{children:r.description})});u.propTypes={description:N.string.isRequired};function Z(){const r=I(),[a,d]=o.useState(!1),i=C(e=>e==null?void 0:e.wishlist.items),{user:t,sessionId:l,loadUser:f}=o.useContext(y),j=t==null?void 0:t._id;o.useEffect(()=>{f()},[]),o.useEffect(()=>{try{(t!=null&&t._id||l)&&r(k({userId:t==null?void 0:t._id,sessionId:l}))}catch(e){console.error(e)}},[t,l,r]);const b=e=>{r(T({productId:e,sessionId:l,userId:j}))},g=e=>{r(W({userId:t==null?void 0:t._id,sessionId:l,productId:e,quantity:1}))},v=()=>{const e={userId:t?t._id:null,sessionId:t?null:l};r(E(e))},w=()=>{d(!a)};return s.jsxs(O,{setIsOpen:d,isOpen:a,Back:w,children:[s.jsxs("div",{className:"xl:mt-[70px] mt-36 md:mt-16 lg:mt-16  min-h-[350px]",children:[s.jsxs("h2",{className:"text-center text-xl w-full z-30 fixed bg-slate-100 p-2",children:[i.length<=0&&s.jsx("span",{children:"No "}),i.length==1?"Wishlist":"Wishlists"]}),(i==null?void 0:i.length)>=1&&s.jsxs("div",{children:[s.jsx("div",{className:"flex flex-wrap justify-center gap-10 xl:w-3/4 w-full md:px-12 sm:p-4 m-auto mb-9 pt-2",children:i==null?void 0:i.map(e=>{var c,n,p,m,x;return s.jsxs("div",{className:"  mt-20 xl:w-60  max-w-60 p-3 h-84   hover:border-white  border-2 rounded-lg relative group bg-whit shadow-lg ",children:[s.jsx("span",{className:"text-sm",children:z((c=e.productId)==null?void 0:c.name)}),s.jsx("div",{className:"xl:min-w-32  h-40   mb-2  overflow-hidden",children:s.jsx("img",{src:e.productId.image,alt:"",className:"w-full h-full"})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("button",{id:(n=e.productId)==null?void 0:n._id,className:" text-[13px] text-black ",onClick:()=>g(e.productId._id),children:s.jsx(R,{className:"text-[#891984]",size:20})}),s.jsxs("div",{className:"flex items-center border-2 p-2 rounded-sm ",children:[s.jsx(B,{}),s.jsx("span",{className:" text-[16px] ",children:D(Number((p=e.productId)==null?void 0:p.price))})]}),s.jsx("button",{id:e._id,className:" text-[13px] hover:bg-red-600 hover:text-white ",onClick:()=>{var h;return b((h=e.productId)==null?void 0:h._id)},children:s.jsx(S,{size:24})}),s.jsx(u,{description:(m=e.productId)==null?void 0:m.description})]})]},(x=e.productId)==null?void 0:x._id)})}),s.jsx("div",{className:"flex justify-end mt-12 p-3",children:s.jsx("button",{className:"bg-black text-white text-[13px] rounded-sm p-2",onClick:v,children:"Empty all whishlist"})})]})]}),s.jsx(_,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})}export{Z as default};
