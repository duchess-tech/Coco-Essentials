import{r as a,C as m,j as e,Q as h,h as x,B as t}from"./index-W29gIuby.js";import{b}from"./index-BYU5Di5h.js";import"./iconBase-DaNi9Cxe.js";const v=()=>{const{user:r}=a.useContext(m),o=a.useRef(""),n=a.useRef(""),l=a.useRef(""),[p,d]=a.useState(!1),u=a.useRef(""),c=async i=>{i.preventDefault(),d(!0);const f={fullname:o.current.value,phonenumber:n.current.value,password:l.current.value,confirmpassword:u.current.value};try{const s=await x.put(`/api/user/edit/${r==null?void 0:r._id}`,{headers:{"Content-Type":"application/json"},formData:f});s.data.created?t.success(s.data.message):s.data.created.error_type===0?t.error(s.data.error[0].msg):s.data.error_type===1&&t.error(s.data.message)}catch(s){console.error("Error:",s)}finally{d(!1)}};return e.jsxs("div",{className:" text-[12px]  ",children:[e.jsx("div",{className:"w-full p-4  border-b-2 border-[#9da4b0]  font-bold   text-center text-lg",children:"Settings"}),e.jsxs("div",{className:" shadow-xl   pb-5 ",children:[e.jsxs("form",{className:"p-4",children:[e.jsx("input",{type:"text",ref:o,defaultValue:r==null?void 0:r.fullname,name:"fullname",id:"fullname",className:"w-full p-2 rounded-lg border-2 mb-5",placeholder:"fullname"}),e.jsx("input",{type:"phonenumber",ref:n,name:"phonenumber",defaultValue:r==null?void 0:r.phonenumber,id:"phonenumber",className:"w-full p-2 rounded-lg border-2 mb-3",placeholder:"phonenumber"}),e.jsx("input",{type:"password",ref:l,name:"password",id:"password",className:"w-full p-2 rounded-lg border-2  mb-3",placeholder:"password"}),e.jsx("input",{type:"password",ref:u,name:"confirmPassword",id:"confirmPassword",className:"w-full p-2 rounded-lg border-2 ",placeholder:"confirmPassword"})]}),e.jsx("div",{className:"flex justify-end px-6  ",children:e.jsxs("button",{className:"border-2 border-[#ffffff] hover:bg-[#891980] hover:text-white rounded-md px-8 py-2  flex items-center gap-1",onClick:c,children:["Edit ",p&&e.jsx(b,{className:"animate-spin",size:10})]})})]}),e.jsx(h,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})};export{v as default};
